<body class="">
    <div class="wrapper ">
        <!-- Navbar -->
        <nav class="navbar navbar-expand-lg navbar-absolute fixed-top navbar-transparent">
            <div class="container-fluid">
            </div>
        </nav>
        <!-- End Navbar -->

        <div class="main-panel" style="height: 100vh;">
            <div class="content">
                <div class="row">
                    <div class="col-md-12">
                        <mat-horizontal-stepper labelPosition="botton" linear="true">
                            <mat-step [stepControl]="profileFormGroup">
                                <form [formGroup]="profileFormGroup" (ngSubmit)="onSubmit(profileFormGroup)">
                                    <ng-template matStepLabel>Step-1</ng-template>
                                    <div class="formContainer">
                                        <!-- CUSTOMER DETAILS -->
                                        <div class="form-container1">
                                            <mat-label style="color: rgb(4, 4, 65);">
                                                <h1>Customer Details</h1>
                                            </mat-label>

                                            <div style="display: flex;">
                                                <div style="padding-left: 20px;">
                                                    <mat-label>First Name</mat-label>
                                                    <mat-form-field appearance="fill">
                                                        <div class="input-box">
                                                            <input matInput placeholder="First Name"
                                                                formControlName="firstName">
                                                            <div
                                                                *ngIf="profileFormGroup.get('firstName').invalid && profileFormGroup.get('firstName').touched">
                                                                <span
                                                                    *ngIf="profileFormGroup.get('firstName').errors?.required"
                                                                    style="color: red;">**Please enter the
                                                                    Firstname</span>
                                                                <span
                                                                    *ngIf="profileFormGroup.get('firstName').errors?.pattern"
                                                                    style="color: red;">**Only alphabets are
                                                                    allowed</span>
                                                            </div>
                                                        </div><br>
                                                    </mat-form-field>
                                                </div>
                                                <div style="padding-left: 100px; float: right;">
                                                    <mat-label>Last Name</mat-label>
                                                    <mat-form-field appearance="fill">
                                                        <div class="input-box">
                                                            <input matInput placeholder="Last Name"
                                                                formControlName="lastName">
                                                            <div
                                                                *ngIf="profileFormGroup.get('lastName').invalid && profileFormGroup.get('lastName').touched">
                                                                <span
                                                                    *ngIf="profileFormGroup.get('lastName').errors?.required"
                                                                    style="color: red;">**Please enter the
                                                                    Lastname</span>
                                                                <span
                                                                    *ngIf="profileFormGroup.get('lastName').errors?.pattern"
                                                                    style="color: red;">**Only alphabets are
                                                                    allowed</span>
                                                            </div>
                                                        </div>
                                                    </mat-form-field>
                                                </div>

                                            </div><br><br>

                                            <div style="display: flex;">
                                                <div style="padding-left: 20px;">
                                                    <mat-label>Email Address</mat-label>
                                                    <mat-form-field appearance="fill">
                                                        <div class="input-box">
                                                            <input matInput placeholder="Email" formControlName="email">
                                                            <div
                                                                *ngIf="profileFormGroup.get('email').invalid && profileFormGroup.get('email').touched">
                                                                <span
                                                                    *ngIf="profileFormGroup.get('email').errors?.required"
                                                                    style="color: red;">**Please enter the Email</span>
                                                                <span
                                                                    *ngIf="profileFormGroup.get('email').errors?.email"
                                                                    style="color: red;">**Please enter the Email</span>
                                                            </div>
                                                        </div>
                                                    </mat-form-field>
                                                </div>
                                                <div style="padding-left: 80px;">
                                                    <mat-label>Phone Number</mat-label>
                                                    <mat-form-field appearance="fill">
                                                        <div class="input-box">
                                                            <input matInput placeholder="Phone Number"
                                                                formControlName="phone">
                                                            <div
                                                                *ngIf="profileFormGroup.get('phone').invalid && profileFormGroup.get('phone').touched">
                                                                <span
                                                                    *ngIf="profileFormGroup.get('phone').errors?.required"
                                                                    style="color: red;">**Please enter the Phone
                                                                    number</span>
                                                                <span
                                                                    *ngIf="profileFormGroup.get('phone').errors?.minlength"
                                                                    style="color: red;">**Minimum 10 digits are
                                                                    required</span>
                                                                <span
                                                                    *ngIf="profileFormGroup.get('phone').errors?.pattern"
                                                                    style="color: red;">**Only numbers are
                                                                    allowed</span>
                                                            </div>
                                                        </div>
                                                    </mat-form-field>
                                                </div>

                                            </div><br><br>


                                            <div style="display: flex;">
                                                <div style="padding-left: 20px;">
                                                    <mat-label> Address</mat-label>
                                                    <mat-form-field appearance="fill">
                                                        <div class="input-box">
                                                            <input matInput placeholder="Address"
                                                                formControlName="address">
                                                            <div
                                                                *ngIf="profileFormGroup.get('address').invalid && profileFormGroup.get('address').touched">
                                                                <span
                                                                    *ngIf="profileFormGroup.get('address').errors?.required"
                                                                    style="color: red;">**Please enter the
                                                                    Address</span>
                                                            </div>
                                                        </div>
                                                    </mat-form-field>
                                                </div>
                                            </div>
                                        </div><br><br>

                                        <!-- PROJECT DETAILS -->
                                        <div class="form-container1">
                                            <mat-label style="color: rgb(4, 4, 65);">
                                                <h1>Project Information</h1>
                                            </mat-label>

                                            <div style="display: flex;">
                                                <div style="padding-left: 20px;">
                                                    <mat-label>Project Name</mat-label>
                                                    <mat-form-field appearance="fill">
                                                        <div class="input-box">
                                                            <input matInput placeholder="Project Name"
                                                                formControlName="projectName">
                                                            <div
                                                                *ngIf="profileFormGroup.get('projectName').invalid && profileFormGroup.get('projectName').touched">
                                                                <span
                                                                    *ngIf="profileFormGroup.get('projectName').errors?.required"
                                                                    style="color: red;">**Please enter the
                                                                    Project Name</span>
                                                            </div>
                                                        </div>
                                                    </mat-form-field>
                                                </div>
                                                <div style="padding-left: 80px;">
                                                    <mat-label>Complete Percent</mat-label>
                                                    <mat-form-field appearance="fill">
                                                        <div class="input-box">
                                                            <input matInput placeholder="Complete percent"
                                                                formControlName="completePercent">
                                                            <div
                                                                *ngIf="profileFormGroup.get('completePercent').invalid && profileFormGroup.get('completePercent').touched">
                                                                <span
                                                                    *ngIf="profileFormGroup.get('completePercent').errors?.required"
                                                                    style="color: red;">**Please enter the
                                                                    Complete Percent</span>
                                                                <span
                                                                    *ngIf="profileFormGroup.get('completePercent').errors?.pattern"
                                                                    style="color: red;">**Only numbers are
                                                                    allowed</span>
                                                            </div>
                                                        </div>
                                                    </mat-form-field>
                                                </div>
                                            </div><br><br>

                                            <div style="display: flex;">
                                                <div style="padding-left: 20px;">
                                                    <mat-label>Start Date</mat-label>
                                                    <mat-form-field appearance="fill">
                                                        <div class="input-box">
                                                            <input type="date" matInput placeholder="Start Date"
                                                                formControlName="startDate">
                                                            <div
                                                                *ngIf="profileFormGroup.get('startDate').invalid && profileFormGroup.get('startDate').touched">
                                                                <span
                                                                    *ngIf="profileFormGroup.get('startDate').errors?.required"
                                                                    style="color: red;">**Please select the
                                                                    Start Date</span>
                                                            </div>
                                                        </div>
                                                    </mat-form-field>
                                                </div>
                                                <div style="padding-left: 80px;">
                                                    <mat-label>End Date</mat-label>
                                                    <mat-form-field appearance="fill">
                                                        <div class="input-box">
                                                            <input type="date" matInput placeholder="End date"
                                                                formControlName="endDate">
                                                            <div
                                                                *ngIf="profileFormGroup.get('endDate').invalid && profileFormGroup.get('endDate').touched">
                                                                <span
                                                                    *ngIf="profileFormGroup.get('endDate').errors?.required"
                                                                    style="color: red;">**Please select the
                                                                    End Date</span>
                                                            </div>
                                                        </div>
                                                    </mat-form-field>
                                                </div>
                                            </div><br><br>

                                            <div style="display: flex;">
                                                <div>
                                                    <mat-label>Project Description</mat-label>
                                                    <mat-form-field appearance="fill">
                                                        <div class="input-box">
                                                            <input type="textarea" matInput placeholder="Description"
                                                                formControlName="projectDescription">
                                                            <div
                                                                *ngIf="profileFormGroup.get('projectDescription').invalid && profileFormGroup.get('projectDescription').touched">
                                                                <span
                                                                    *ngIf="profileFormGroup.get('projectDescription').errors?.required"
                                                                    style="color: red;">**Please enter the
                                                                    Project Description</span>
                                                            </div>
                                                        </div>
                                                    </mat-form-field>
                                                </div>
                                            </div>
                                        </div><br>
                                    </div>
                                    <div style="margin-top: 20px;">
                                        <button mat-button matStepperPrevious style="float: left;"
                                            disabled>Previous</button>
                                        <button mat-button matStepperNext style="float: right;">Next</button>
                                    </div>
                                </form>
                            </mat-step>

                            <!-- /* FOR DRAG AND DROP FILE UPLOADING */ -->
                            <mat-step>
                                <ng-template matStepLabel>Step-2</ng-template>
                                <div class="imgContainer">
                                    <mat-label style="color: rgb(4, 4, 65);">
                                        <h1>Documents Upload</h1>
                                        <span style="color: red;">(Only csv, xlsx, xls, doc, docx, ppt, jpg, jpeg, pdf,
                                            txt file is allowed)
                                        </span>
                                    </mat-label>
                                    <div>
                                        <form [formGroup]="imgFormGroup">
                                            <div class="container" appDnd (fileDropped)="onFileDropped($event)">
                                                <input class="dndInput" type="file" required formControlName="imgInput"
                                                    #fileDropRef id="fileDropRef" multiple
                                                    (change)="fileBrowseHandler($event.target.files)" />
                                                <svg xmlns="http://www.w3.org/2000/svg" width="63" height="64"
                                                    viewBox="0 0 63 64">
                                                    <g fill="#3B454F" fill-rule="nonzero">
                                                        <path
                                                            d="M42.656 15.135a1.953 1.953 0 0 1-1.391-.578L31.5 4.795l-9.765 9.762a1.97 1.97 0 1 1-2.785-2.785L30.106.616a1.97 1.97 0 0 1 2.785 0l11.157 11.156a1.97 1.97 0 0 1-1.392 3.363z" />
                                                        <path
                                                            d="M31.5 36.791a1.97 1.97 0 0 1-1.969-1.969V2.01a1.97 1.97 0 0 1 3.938 0v32.812a1.97 1.97 0 0 1-1.969 1.969z" />
                                                        <path
                                                            d="M55.781 63.041H7.22A7.225 7.225 0 0 1 0 55.822V41.385a4.599 4.599 0 0 1 4.594-4.594h7.234a4.567 4.567 0 0 1 4.402 3.276l2.814 9.382a.658.658 0 0 0 .628.467h23.656a.658.658 0 0 0 .628-.467l2.814-9.385a4.572 4.572 0 0 1 4.402-3.273h7.234A4.599 4.599 0 0 1 63 41.385v14.437a7.225 7.225 0 0 1-7.219 7.219zM4.594 40.729a.656.656 0 0 0-.657.656v14.437a3.286 3.286 0 0 0 3.282 3.282H55.78a3.286 3.286 0 0 0 3.282-3.282V41.385a.656.656 0 0 0-.657-.656h-7.234a.65.65 0 0 0-.628.467L47.73 50.58a4.628 4.628 0 0 1-4.402 3.274H19.672a4.567 4.567 0 0 1-4.402-3.276l-2.814-9.382a.65.65 0 0 0-.628-.467H4.594z" />
                                                    </g>
                                                </svg>

                                                <h3>Drag and drop file here</h3>
                                                <h3>or</h3>
                                                <label class="fileDrop" for="fileDropRef"
                                                    style="margin-bottom: 10px;">Browse for
                                                    file</label>
                                            </div>
                                        </form><br><br>
                                        <div
                                            *ngIf="imgFormGroup.get('imgInput').invalid && imgFormGroup.get('imgInput').touched" style="text-align: center; font-size: 15px;">
                                            <span *ngIf="imgFormGroup.get('imgInput').errors?.required"
                                                style="color: red;">**Please select the
                                                Image</span>
                                        </div>


                                        <div class="files-list">
                                            <div class="single-file" *ngFor="let file of files; let i = index">
                                                <div class="file-icon" style="width: 60px">
                                                    <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg"
                                                        xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                                                        viewBox="0 0 58 58" style="enable-background:new 0 0 58 58;"
                                                        xml:space="preserve">
                                                        <polygon style="fill:#EDEADA;"
                                                            points="51.5,14 37.5,0 6.5,0 6.5,58 51.5,58 " />
                                                        <g>
                                                            <path style="fill:#CEC9AE;"
                                                                d="M16.5,23h25c0.552,0,1-0.447,1-1s-0.448-1-1-1h-25c-0.552,0-1,0.447-1,1S15.948,23,16.5,23z" />
                                                            <path style="fill:#CEC9AE;"
                                                                d="M16.5,15h10c0.552,0,1-0.447,1-1s-0.448-1-1-1h-10c-0.552,0-1,0.447-1,1S15.948,15,16.5,15z" />
                                                            <path style="fill:#CEC9AE;"
                                                                d="M41.5,29h-25c-0.552,0-1,0.447-1,1s0.448,1,1,1h25c0.552,0,1-0.447,1-1S42.052,29,41.5,29z" />
                                                            <path style="fill:#CEC9AE;"
                                                                d="M41.5,37h-25c-0.552,0-1,0.447-1,1s0.448,1,1,1h25c0.552,0,1-0.447,1-1S42.052,37,41.5,37z" />
                                                            <path style="fill:#CEC9AE;"
                                                                d="M41.5,45h-25c-0.552,0-1,0.447-1,1s0.448,1,1,1h25c0.552,0,1-0.447,1-1S42.052,45,41.5,45z" />
                                                        </g>
                                                        <polygon style="fill:#CEC9AE;"
                                                            points="37.5,0 37.5,14 51.5,14 " />
                                                    </svg>
                                                </div>
                                                <div class="info">
                                                    <h4 class="name">
                                                        {{ file?.name }}
                                                    </h4>
                                                    <p class="size">
                                                        {{ formatBytes(file?.size) }}
                                                    </p>
                                                    <app-progress [progress]="file?.progress"></app-progress>
                                                </div>

                                                <!-- <div class="delete" (click)="deleteFile(i)">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="18"
                                                        viewBox="0 0 14 18">
                                                        <path fill="#B1B1B1" fill-rule="nonzero"
                                                            d="M1 16c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2H3c-1.1 0-2 .9-2 2v10zm3.17-7.83a.996.996 0 0 1 1.41 0L7 9.59l1.42-1.42a.996.996 0 1 1 1.41 1.41L8.41 11l1.42 1.42a.996.996 0 1 1-1.41 1.41L7 12.41l-1.42 1.42a.996.996 0 1 1-1.41-1.41L5.59 11 4.17 9.58a.996.996 0 0 1 0-1.41zM10.5 1L9.79.29C9.61.11 9.35 0 9.09 0H4.91c-.26 0-.52.11-.7.29L3.5 1H1c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1h-2.5z" />
                                                    </svg>
                                                </div> -->
                                            </div>
                                        </div>
                                    </div>
                                    <br><br>
                                    <div style="margin-bottom: 30px;">
                                        <button mat-button matStepperPrevious style="float: left;"
                                            (click)="onPrevious()">Previous</button>
                                        <button mat-button matStepperNext style="float: right;"
                                            [disabled]="!fileDropRef.value">Next</button>
                                    </div>
                                </div>
                            </mat-step>

                            <mat-step>
                                <ng-template matStepLabel>Step-3</ng-template>
                                <!-- <mat-label style="color: rgb(4, 4, 65);">
                                    <h1>Documents</h1>
                                </mat-label> -->

                                <div>
                                    <div class="col-md-12">
                                        <div class="card card-plain">
                                            <div class="card-header">
                                                <h1 class="card-title"> Documents</h1>
                                            </div>
                                            <div class="card-body">
                                                <table class="table">
                                                    <thead class=" text-primary">
                                                        <th>
                                                            Name
                                                        </th>
                                                        <th>
                                                            OCR
                                                        </th>
                                                        <th class="text-right">
                                                            Delete
                                                        </th>
                                                    </thead>
                                                    <tbody *ngFor="let file of files; let i = index">
                                                        <tr>
                                                            <td>
                                                                {{ file?.name }}
                                                            </td>
                                                            <td>
                                                                <input class="ocrBox" type="checkbox" id="ocr"
                                                                    name="ocr" value="ocr">&nbsp;
                                                                <label for="ocr">English</label><br>
                                                            </td>
                                                            <td class="text-right">
                                                                <div class="delete" (click)="deleteFile(i)">
                                                                    <svg xmlns="http://www.w3.org/2000/svg" width="14"
                                                                        height="18" viewBox="0 0 14 18">
                                                                        <path fill="#FF0000" fill-rule="nonzero"
                                                                            d="M1 16c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2H3c-1.1 0-2 .9-2 2v10zm3.17-7.83a.996.996 0 0 1 1.41 0L7 9.59l1.42-1.42a.996.996 0 1 1 1.41 1.41L8.41 11l1.42 1.42a.996.996 0 1 1-1.41 1.41L7 12.41l-1.42 1.42a.996.996 0 1 1-1.41-1.41L5.59 11 4.17 9.58a.996.996 0 0 1 0-1.41zM10.5 1L9.79.29C9.61.11 9.35 0 9.09 0H4.91c-.26 0-.52.11-.7.29L3.5 1H1c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1h-2.5z" />
                                                                    </svg>
                                                                </div>
                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <button mat-button matStepperPrevious style="float: left;"
                                    (click)="onPrevious()">Previous</button>
                                <button mat-button matStepperNext style="float: right;">Next</button>
                            </mat-step>

                            <mat-step>
                                <ng-template matStepLabel>Step-4</ng-template>

                                <div>
                                    <div class="col-md-12">
                                        <div class="card card-plain">
                                            <div class="card-header">
                                                <h1 class="card-title"> Documents</h1>
                                            </div>
                                            <div class="card-body">
                                                <table class="table">
                                                    <thead class=" text-primary">
                                                        <th>
                                                            Name
                                                        </th>
                                                        <th>
                                                            OCR
                                                        </th>
                                                        <th class="text-right">
                                                            Download
                                                        </th>
                                                    </thead>
                                                    <tbody *ngFor="let file of files; let i = index">
                                                        <tr>
                                                            <td>
                                                                {{ file?.name }}
                                                            </td>
                                                            <td>
                                                                <input class="ocrBox" type="checkbox" id="ocr"
                                                                    name="ocr" value="ocr">&nbsp;
                                                                <label for="ocr">English</label><br>
                                                            </td>
                                                            <td class="text-right">
                                                                <label class="downloadBtn"
                                                                    (click)="onDownload(file?.name)">Download</label>
                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <button mat-button matStepperPrevious (click)="onPrevious()">Previous</button>
                                <button mat-button matStepperNext style="float: right;"
                                    (click)="onFinish(profileFormGroup)">Finish</button>
                            </mat-step>
                        </mat-horizontal-stepper>
                    </div>
                </div>
            </div>

        </div>
    </div>
</body>